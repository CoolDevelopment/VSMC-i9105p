/****************************************************************************
*									      
* Copyright 2010 --2011 Broadcom Corporation.
*
* Unless you and Broadcom execute a separate written software license
* agreement governing use of this software, this software is licensed to you
* under the terms of the GNU General Public License version 2, available at
* http://www.broadcom.com/licenses/GPLv2.php (the "GPL").
*
*****************************************************************************/


#include <linux/sched.h>
#include <linux/delay.h>
#include <linux/module.h>
#include <linux/debugfs.h>
#include <asm/io.h>
#include <linux/err.h>
#include <linux/dma-mapping.h>
#include <mach/io_map.h>
#include <linux/slab.h>
#include <mach/rdb/brcm_rdb_scu.h>
#include <mach/rdb/brcm_rdb_csr.h>
#include <mach/rdb/brcm_rdb_chipreg.h>
#include <mach/rdb/brcm_rdb_iroot_clk_mgr_reg.h>
#include <mach/rdb/brcm_rdb_gicdist.h>
#include <mach/rdb/brcm_rdb_pwrmgr.h>
#include <mach/rdb/brcm_rdb_kproc_clk_mgr_reg.h>
#include <mach/rdb/brcm_rdb_sectrap.h>
#include <mach/rdb/brcm_rdb_axitp1.h>
#include <mach/rdb/brcm_rdb_swstm.h>
#include <mach/rdb/brcm_rdb_giccpu.h>
#include <mach/rdb/brcm_rdb_ptmr_wd.h>
#include <mach/rdb/brcm_rdb_cti.h>
#include <mach/rdb/brcm_rdb_gictr.h>
#include <mach/rdb/brcm_rdb_cstf.h>
#include <mach/rdb/brcm_rdb_pwrwdog.h>
#include <mach/rdb/brcm_rdb_a9cpu.h>
#include <mach/rdb/brcm_rdb_a9pmu.h>
#include <mach/rdb/brcm_rdb_a9ptm.h>
#include <mach/rdb/brcm_rdb_glbtmr.h>
#include <plat/pwr_mgr.h>
#include <mach/pwr_mgr.h>

static int enable_dormant = 0;
module_param_named(enable_dormant, enable_dormant, int, S_IRUGO | S_IWUSR | S_IWGRP);

#ifdef CONFIG_ROM_SEC_DISPATCHER
#include <mach/secure_api.h>
#endif

u32 dormant_base_va;
u32 dormant_base_pa;

extern void dormant_start(void);

/* Array of registers that needs to be saved and restored.  Please add to the end if new data
 * needs to be added.  Note that PLL DIV and TRIGGER registers are moved to the top of the list
 * to minimize issues at 156 mhz.
 */

static u32 addnl_save_reg_list[][2] =
{
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PL310_DIV_OFFSET), 0}, //0x3FE00A00 - PL310_DIV
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PL310_TRIGGER_OFFSET), 0}, //0x3FE00A04 - PL310_TRIGGER
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_POLICY_FREQ_OFFSET), 0}, //0x3FE00008 - POLICY_FREQ
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_POLICY_CTL_OFFSET), 0}, //0x3FE0000C - POLICY_CTL
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_POLICY0_MASK_OFFSET), 0}, //0x3FE00010 - POLICY0_MASK
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_POLICY1_MASK_OFFSET), 0}, //0x3FE00014 - POLICY1_MASK
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_POLICY2_MASK_OFFSET), 0}, //0x3FE00018 - POLICY2_MASK
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_POLICY3_MASK_OFFSET), 0}, //0x3FE0001C - POLICY3_MASK
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_INTEN_OFFSET), 0}, //0x3FE00020 - INTEN
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_INTSTAT_OFFSET), 0}, //0x3FE00024 - INTSTAT
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_LVM_EN_OFFSET), 0}, //0x3FE00034 - LVM_EN
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_LVM0_3_OFFSET), 0}, //0x3FE00038 - LVM0_3
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_LVM4_7_OFFSET), 0}, //0x3FE0003C - LVM4_7
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_VLT0_3_OFFSET), 0}, //0x3FE00040 - VLT0_3
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_VLT4_7_OFFSET), 0}, //0x3FE00044 - VLT4_7
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_BUS_QUIESC_OFFSET), 0}, //0x3FE00100 - BUS_QUIESC
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_CORE0_CLKGATE_OFFSET), 0}, //0x3FE00200 - CORE0_CLKGATE
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_CORE1_CLKGATE_OFFSET), 0}, //0x3FE00204 - CORE1_CLKGATE
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_ARM_SWITCH_CLKGATE_OFFSET), 0}, //0x3FE00210 - ARM_SWITCH_CLKGATE
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_ARM_PERIPH_CLKGATE_OFFSET), 0}, //0x3FE00300 - ARM_PERIPH_CLKGATE
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_APB0_CLKGATE_OFFSET), 0}, //0x3FE00400 - APB0_CLKGATE
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARMA_OFFSET), 0}, //0x3FE00C00 - PLLARMA
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARMB_OFFSET), 0}, //0x3FE00C04 - PLLARMB
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARMC_OFFSET), 0}, //0x3FE00C08 - PLLARMC
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARMCTRL0_OFFSET), 0}, //0x3FE00C0C - PLLARMCTRL0
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARMCTRL1_OFFSET), 0}, //0x3FE00C10 - PLLARMCTRL1
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARMCTRL2_OFFSET), 0}, //0x3FE00C14 - PLLARMCTRL2
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARMCTRL3_OFFSET), 0}, //0x3FE00C18 - PLLARMCTRL3
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARMCTRL4_OFFSET), 0}, //0x3FE00C1C - PLLARMCTRL4
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARMCTRL5_OFFSET), 0}, //0x3FE00C20 - PLLARMCTRL5
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLLARM_OFFSET_OFFSET), 0}, //0x3FE00C24 - PLLARM_OFFSET
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_ARM_DIV_OFFSET), 0}, //0x3FE00E00 - ARM_DIV
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_ARM_SEG_TRG_OFFSET), 0}, //0x3FE00E04 - ARM_SEG_TRG
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_ARM_SEG_TRG_OVERRIDE_OFFSET), 0}, //0x3FE00E08 - ARM_SEG_TRG_OVERRIDE
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_PLL_DEBUG_OFFSET), 0}, //0x3FE00E10 - PLL_DEBUG
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_ACTIVITY_MON1_OFFSET), 0}, //0x3FE00E20 - ACTIVITY_MON1
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_ACTIVITY_MON2_OFFSET), 0}, //0x3FE00E24 - ACTIVITY_MON2
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_CLKGATE_DBG_OFFSET), 0}, //0x3FE00E40 - CLKGATE_DBG
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_APB_CLKGATE_DBG1_OFFSET), 0}, //0x3FE00E48 - APB_CLKGATE_DBG1
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_CLKMON_OFFSET), 0}, //0x3FE00E64 - CLKMON
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_POLICY_DBG_OFFSET), 0}, //0x3FE00EC0 - POLICY_DBG
	{ (KONA_PROC_CLK_VA+KPROC_CLK_MGR_REG_TGTMASK_DBG1_OFFSET), 0}, //0x3FE00EC4 - TGTMASK_DBG1

	{ (KONA_SECTRAP1_VA+SECTRAP_TRAP_CONFIG_OFFSET), 0}, //0x3FE01000 - TRAP_CONFIG
	{ (KONA_SECTRAP1_VA+SECTRAP_TRAP_STATUS_OFFSET), 0}, //0x3FE01004 - TRAP_STATUS

	{ (KONA_SECTRAP8_VA+SECTRAP_TRAP_CONFIG_OFFSET), 0}, //0x3FE02000 - TRAP_CONFIG
	{ (KONA_SECTRAP8_VA+SECTRAP_TRAP_STATUS_OFFSET), 0}, //0x3FE02004 - TRAP_STATUS

	{ (KONA_AXITRACE1_VA+AXITP1_ATM_CONFIG_OFFSET), 0}, //0x3FE03000 - ATM_CONFIG
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_OUTIDS_OFFSET), 0}, //0x3FE03008 - ATM_OUTIDS
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_CMD_OFFSET), 0}, //0x3FE0300C - ATM_CMD
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_FILTER_0_OFFSET), 0}, //0x3FE03080 - ATM_FILTER_0
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_ADDRLOW_0_OFFSET), 0}, //0x3FE03084 - ATM_ADDRLOW_0
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_ADDRHIGH_0_OFFSET), 0}, //0x3FE03088 - ATM_ADDRHIGH_0
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_FILTER_1_OFFSET), 0}, //0x3FE03090 - ATM_FILTER_1
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_ADDRLOW_1_OFFSET), 0}, //0x3FE03094 - ATM_ADDRLOW_1
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_ADDRHIGH_1_OFFSET), 0}, //0x3FE03098 - ATM_ADDRHIGH_1
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_FILTER_2_OFFSET), 0}, //0x3FE030A0 - ATM_FILTER_2
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_ADDRLOW_2_OFFSET), 0}, //0x3FE030A4 - ATM_ADDRLOW_2
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_ADDRHIGH_2_OFFSET), 0}, //0x3FE030A8 - ATM_ADDRHIGH_2
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_FILTER_3_OFFSET), 0}, //0x3FE030B0 - ATM_FILTER_3
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_ADDRLOW_3_OFFSET), 0}, //0x3FE030B4 - ATM_ADDRLOW_3
	{ (KONA_AXITRACE1_VA+AXITP1_ATM_ADDRHIGH_3_OFFSET), 0}, //0x3FE030B8 - ATM_ADDRHIGH_3

	{ (KONA_AXITRACE4_VA+AXITP1_ATM_CONFIG_OFFSET), 0}, //0x3FE04000 - ATM_CONFIG
	{ (KONA_AXITRACE4_VA+AXITP1_ATM_OUTIDS_OFFSET), 0}, //0x3FE04008 - ATM_OUTIDS
	{ (KONA_AXITRACE4_VA+AXITP1_ATM_CMD_OFFSET), 0}, //0x3FE0400C - ATM_CMD
	{ (KONA_AXITRACE4_VA+AXITP1_ATM_FILTER_0_OFFSET), 0}, //0x3FE04080 - ATM_FILTER_0
	{ (KONA_AXITRACE4_VA+AXITP1_ATM_ADDRLOW_0_OFFSET), 0}, //0x3FE04084 - ATM_ADDRLOW_0
	{ (KONA_AXITRACE4_VA+AXITP1_ATM_ADDRHIGH_0_OFFSET), 0}, //0x3FE04088 - ATM_ADDRHIGH_0
	{ (KONA_AXITRACE4_VA+AXITP1_ATM_FILTER_1_OFFSET), 0}, //0x3FE04090 - ATM_FILTER_1
	{ (KONA_AXITRACE4_VA+AXITP1_ATM_ADDRLOW_1_OFFSET), 0}, //0x3FE04094 - ATM_ADDRLOW_1
	{ (KONA_AXITRACE4_VA+AXITP1_ATM_ADDRHIGH_1_OFFSET), 0}, //0x3FE04098 - ATM_ADDRHIGH_1

	{ (KONA_AXITRACE16_VA+AXITP1_ATM_CONFIG_OFFSET), 0}, //0x3FE07000 - ATM_CONFIG
	{ (KONA_AXITRACE16_VA+AXITP1_ATM_OUTIDS_OFFSET), 0}, //0x3FE07008 - ATM_OUTIDS
	{ (KONA_AXITRACE16_VA+AXITP1_ATM_CMD_OFFSET), 0}, //0x3FE0700C - ATM_CMD
	{ (KONA_AXITRACE16_VA+AXITP1_ATM_FILTER_0_OFFSET), 0}, //0x3FE07080 - ATM_FILTER_0
	{ (KONA_AXITRACE16_VA+AXITP1_ATM_ADDRLOW_0_OFFSET), 0}, //0x3FE07084 - ATM_ADDRLOW_0
	{ (KONA_AXITRACE16_VA+AXITP1_ATM_ADDRHIGH_0_OFFSET), 0}, //0x3FE07088 - ATM_ADDRHIGH_0
	{ (KONA_AXITRACE16_VA+AXITP1_ATM_FILTER_1_OFFSET), 0}, //0x3FE07090 - ATM_FILTER_1
	{ (KONA_AXITRACE16_VA+AXITP1_ATM_ADDRLOW_1_OFFSET), 0}, //0x3FE07094 - ATM_ADDRLOW_1
	{ (KONA_AXITRACE16_VA+AXITP1_ATM_ADDRHIGH_1_OFFSET), 0}, //0x3FE07098 - ATM_ADDRHIGH_1

	{ (KONA_GICTR_VA+GICTR_GIC_CONFIG_OFFSET), 0}, //0x3FE05000 - GIC_CONFIG
	{ (KONA_GICTR_VA+GICTR_GIC_OUTIDS_OFFSET), 0}, //0x3FE05008 - GIC_OUTIDS
	{ (KONA_GICTR_VA+GICTR_GIC_CMD_OFFSET), 0}, //0x3FE0500C - GIC_CMD

	{ (KONA_FUNNEL_VA+CSTF_FUNNEL_CONTROL_OFFSET), 0}, //0x3FE06000 - FUNNEL_CONTROL
	{ (KONA_FUNNEL_VA+CSTF_PRIORITY_CONTROL_OFFSET), 0}, //0x3FE06004 - PRIORITY_CONTROL
	{ (KONA_FUNNEL_VA+CSTF_ITATBDATA0_OFFSET), 0}, //0x3FE06EEC - ITATBDATA0
	{ (KONA_FUNNEL_VA+CSTF_ITATBCTR2_OFFSET), 0}, //0x3FE06EF0 - ITATBCTR2
	{ (KONA_FUNNEL_VA+CSTF_ITATBCTR1_OFFSET), 0}, //0x3FE06EF4 - ITATBCTR1
	{ (KONA_FUNNEL_VA+CSTF_ITATBCTR0_OFFSET), 0}, //0x3FE06EF8 - ITATBCTR0
	{ (KONA_FUNNEL_VA+CSTF_ITCTRL_OFFSET), 0}, //0x3FE06F00 - ITCTRL
	{ (KONA_FUNNEL_VA+CSTF_CLAIM_TAG_SET_OFFSET), 0}, //0x3FE06FA0 - CLAIM_TAG_SET
	{ (KONA_FUNNEL_VA+CSTF_CLAIM_TAG_CLEAR_OFFSET), 0}, //0x3FE06FA4 - CLAIM_TAG_CLEAR

	{ (KONA_SWSTM_VA+SWSTM_R_CONFIG_OFFSET), 0}, //0x3FE09800 - R_CONFIG

	{ (KONA_SWSTM_ST_VA+SWSTM_R_CONFIG_OFFSET), 0}, //0x3FE0A800 - R_CONFIG

	{ (KONA_PWRWDOG_VA+PWRWDOG_PWRWDOG_CTRL_OFFSET), 0}, //0x3FE0B000 - PWRWDOG_CTRL
	{ (KONA_PWRWDOG_VA+PWRWDOG_PWRWDOG_STAT_OFFSET), 0}, //0x3FE0B004 - PWRWDOG_STAT
	{ (KONA_PWRWDOG_VA+PWRWDOG_PWRWDOG_DLYEN_CNT_OFFSET), 0}, //0x3FE0B008 - PWRWDOG_DLYEN_CNT
	{ (KONA_PWRWDOG_VA+PWRWDOG_PWRWDOG_ACCU_CTRL_OFFSET), 0}, //0x3FE0B010 - PWRWDOG_ACCU_CTRL
	{ (KONA_PWRWDOG_VA+PWRWDOG_IRDROP_CTRL_OFFSET), 0}, //0x3FE0B018 - IRDROP_CTRL

	{ (KONA_A9CPU0_VA+A9CPU_WFAR_OFFSET), 0}, //0x3FE10018 - WFAR
	{ (KONA_A9CPU0_VA+A9CPU_VCR_OFFSET), 0}, //0x3FE1001C - VCR
	{ (KONA_A9CPU0_VA+A9CPU_DTRRX_OFFSET), 0}, //0x3FE10080 - DTRRX
	{ (KONA_A9CPU0_VA+A9CPU_DSCR_OFFSET), 0}, //0x3FE10088 - DSCR
	{ (KONA_A9CPU0_VA+A9CPU_DTRTX_OFFSET), 0}, //0x3FE1008C - DTRTX
	{ (KONA_A9CPU0_VA+A9CPU_BVR0_OFFSET), 0}, //0x3FE10100 - BVR0
	{ (KONA_A9CPU0_VA+A9CPU_BVR1_OFFSET), 0}, //0x3FE10104 - BVR1
	{ (KONA_A9CPU0_VA+A9CPU_BVR2_OFFSET), 0}, //0x3FE10108 - BVR2
	{ (KONA_A9CPU0_VA+A9CPU_BVR3_OFFSET), 0}, //0x3FE1010C - BVR3
	{ (KONA_A9CPU0_VA+A9CPU_BVR4_OFFSET), 0}, //0x3FE10110 - BVR4
	{ (KONA_A9CPU0_VA+A9CPU_BVR5_OFFSET), 0}, //0x3FE10114 - BVR5
	{ (KONA_A9CPU0_VA+A9CPU_BCR0_OFFSET), 0}, //0x3FE10140 - BCR0
	{ (KONA_A9CPU0_VA+A9CPU_BCR1_OFFSET), 0}, //0x3FE10144 - BCR1
	{ (KONA_A9CPU0_VA+A9CPU_BCR2_OFFSET), 0}, //0x3FE10148 - BCR2
	{ (KONA_A9CPU0_VA+A9CPU_BCR3_OFFSET), 0}, //0x3FE1014C - BCR3
	{ (KONA_A9CPU0_VA+A9CPU_BCR4_OFFSET), 0}, //0x3FE10150 - BCR4
	{ (KONA_A9CPU0_VA+A9CPU_BCR5_OFFSET), 0}, //0x3FE10154 - BCR5
	{ (KONA_A9CPU0_VA+A9CPU_WVR0_OFFSET), 0}, //0x3FE10180 - WVR0
	{ (KONA_A9CPU0_VA+A9CPU_WVR1_OFFSET), 0}, //0x3FE10184 - WVR1
	{ (KONA_A9CPU0_VA+A9CPU_WVR2_OFFSET), 0}, //0x3FE10188 - WVR2
	{ (KONA_A9CPU0_VA+A9CPU_WVR3_OFFSET), 0}, //0x3FE1018C - WVR3
	{ (KONA_A9CPU0_VA+A9CPU_WVR4_OFFSET), 0}, //0x3FE10190 - WVR4
	{ (KONA_A9CPU0_VA+A9CPU_WVR5_OFFSET), 0}, //0x3FE10194 - WVR5
	{ (KONA_A9CPU0_VA+A9CPU_WCR0_OFFSET), 0}, //0x3FE101C0 - WCR0
	{ (KONA_A9CPU0_VA+A9CPU_WCR1_OFFSET), 0}, //0x3FE101C4 - WCR1
	{ (KONA_A9CPU0_VA+A9CPU_WCR2_OFFSET), 0}, //0x3FE101C8 - WCR2
	{ (KONA_A9CPU0_VA+A9CPU_WCR3_OFFSET), 0}, //0x3FE101CC - WCR3
	{ (KONA_A9CPU0_VA+A9CPU_WCR4_OFFSET), 0}, //0x3FE101D0 - WCR4
	{ (KONA_A9CPU0_VA+A9CPU_WCR5_OFFSET), 0}, //0x3FE101D4 - WCR5
	{ (KONA_A9CPU0_VA+A9CPU_PRCR_OFFSET), 0}, //0x3FE10310 - PRCR
	{ (KONA_A9CPU0_VA+A9CPU_ICTRL_OFFSET), 0}, //0x3FE10F00 - ICTRL

	{ (KONA_A9PMU0_VA+A9PMU_PMEVCNTR0_OFFSET), 0}, //0x3FE11000 - PMEVCNTR0
	{ (KONA_A9PMU0_VA+A9PMU_PMEVCNTR1_OFFSET), 0}, //0x3FE11004 - PMEVCNTR1
	{ (KONA_A9PMU0_VA+A9PMU_PMEVCNTR2_OFFSET), 0}, //0x3FE11008 - PMEVCNTR2
	{ (KONA_A9PMU0_VA+A9PMU_PMEVCNTR3_OFFSET), 0}, //0x3FE1100C - PMEVCNTR3
	{ (KONA_A9PMU0_VA+A9PMU_PMEVCNTR4_OFFSET), 0}, //0x3FE11010 - PMEVCNTR4
	{ (KONA_A9PMU0_VA+A9PMU_PMEVCNTR5_OFFSET), 0}, //0x3FE11014 - PMEVCNTR5
	{ (KONA_A9PMU0_VA+A9PMU_PMCCNTR_OFFSET), 0}, //0x3FE1107C - PMCCNTR
	{ (KONA_A9PMU0_VA+A9PMU_PMXEVTYPER0_OFFSET), 0}, //0x3FE11400 - PMXEVTYPER0
	{ (KONA_A9PMU0_VA+A9PMU_PMXEVTYPER1_OFFSET), 0}, //0x3FE11404 - PMXEVTYPER1
	{ (KONA_A9PMU0_VA+A9PMU_PMXEVTYPER2_OFFSET), 0}, //0x3FE11408 - PMXEVTYPER2
	{ (KONA_A9PMU0_VA+A9PMU_PMXEVTYPER3_OFFSET), 0}, //0x3FE1140C - PMXEVTYPER3
	{ (KONA_A9PMU0_VA+A9PMU_PMXEVTYPER4_OFFSET), 0}, //0x3FE11410 - PMXEVTYPER4
	{ (KONA_A9PMU0_VA+A9PMU_PMXEVTYPER5_OFFSET), 0}, //0x3FE11414 - PMXEVTYPER5
	{ (KONA_A9PMU0_VA+A9PMU_PMCNTENSET_OFFSET), 0}, //0x3FE11C00 - PMCNTENSET
	{ (KONA_A9PMU0_VA+A9PMU_PMCNTENCLR_OFFSET), 0}, //0x3FE11C20 - PMCNTENCLR
	{ (KONA_A9PMU0_VA+A9PMU_PMINTENSET_OFFSET), 0}, //0x3FE11C40 - PMINTENSET
	{ (KONA_A9PMU0_VA+A9PMU_PMINTENCLR_OFFSET), 0}, //0x3FE11C60 - PMINTENCLR
	{ (KONA_A9PMU0_VA+A9PMU_PMOVSR_OFFSET), 0}, //0x3FE11C80 - PMOVSR
	{ (KONA_A9PMU0_VA+A9PMU_PMCR_OFFSET), 0}, //0x3FE11E04 - PMCR
	{ (KONA_A9PMU0_VA+A9PMU_PMUSERENR_OFFSET), 0}, //0x3FE11E08 - PMUSERENR

	{ (KONA_A9PTM0_VA+A9PTM_ETMCR_OFFSET), 0}, //0x3FE18000 - ETMCR
	{ (KONA_A9PTM0_VA+A9PTM_ETMTRIGGER_OFFSET), 0}, //0x3FE18008 - ETMTRIGGER
	{ (KONA_A9PTM0_VA+A9PTM_ETMSR_OFFSET), 0}, //0x3FE18010 - ETMSR
	{ (KONA_A9PTM0_VA+A9PTM_ETMSSCR_OFFSET), 0}, //0x3FE18018 - ETMSSCR
	{ (KONA_A9PTM0_VA+A9PTM_ETMTEEVR_OFFSET), 0}, //0x3FE18020 - ETMTEEVR
	{ (KONA_A9PTM0_VA+A9PTM_ETMTECR1_OFFSET), 0}, //0x3FE18024 - ETMTECR1
	{ (KONA_A9PTM0_VA+A9PTM_ETMACVR1_OFFSET), 0}, //0x3FE18040 - ETMACVR1
	{ (KONA_A9PTM0_VA+A9PTM_ETMACVR2_OFFSET), 0}, //0x3FE18044 - ETMACVR2
	{ (KONA_A9PTM0_VA+A9PTM_ETMACVR3_OFFSET), 0}, //0x3FE18048 - ETMACVR3
	{ (KONA_A9PTM0_VA+A9PTM_ETMACVR4_OFFSET), 0}, //0x3FE1804C - ETMACVR4
	{ (KONA_A9PTM0_VA+A9PTM_ETMACVR5_OFFSET), 0}, //0x3FE18050 - ETMACVR5
	{ (KONA_A9PTM0_VA+A9PTM_ETMACVR6_OFFSET), 0}, //0x3FE18054 - ETMACVR6
	{ (KONA_A9PTM0_VA+A9PTM_ETMACVR7_OFFSET), 0}, //0x3FE18058 - ETMACVR7
	{ (KONA_A9PTM0_VA+A9PTM_ETMACVR8_OFFSET), 0}, //0x3FE1805C - ETMACVR8
	{ (KONA_A9PTM0_VA+A9PTM_ETMACTR1_OFFSET), 0}, //0x3FE18080 - ETMACTR1
	{ (KONA_A9PTM0_VA+A9PTM_ETMACTR2_OFFSET), 0}, //0x3FE18084 - ETMACTR2
	{ (KONA_A9PTM0_VA+A9PTM_ETMACTR3_OFFSET), 0}, //0x3FE18088 - ETMACTR3
	{ (KONA_A9PTM0_VA+A9PTM_ETMACTR4_OFFSET), 0}, //0x3FE1808C - ETMACTR4
	{ (KONA_A9PTM0_VA+A9PTM_ETMACTR5_OFFSET), 0}, //0x3FE18090 - ETMACTR5
	{ (KONA_A9PTM0_VA+A9PTM_ETMACTR6_OFFSET), 0}, //0x3FE18094 - ETMACTR6
	{ (KONA_A9PTM0_VA+A9PTM_ETMACTR7_OFFSET), 0}, //0x3FE18098 - ETMACTR7
	{ (KONA_A9PTM0_VA+A9PTM_ETMACTR8_OFFSET), 0}, //0x3FE1809C - ETMACTR8
	{ (KONA_A9PTM0_VA+A9PTM_ETMCNTRLDVR1_OFFSET), 0}, //0x3FE18140 - ETMCNTRLDVR1
	{ (KONA_A9PTM0_VA+A9PTM_ETMCNTRLDVR2_OFFSET), 0}, //0x3FE18144 - ETMCNTRLDVR2
	{ (KONA_A9PTM0_VA+A9PTM_ETMCNTENR1_OFFSET), 0}, //0x3FE18150 - ETMCNTENR1
	{ (KONA_A9PTM0_VA+A9PTM_ETMCNTENR2_OFFSET), 0}, //0x3FE18154 - ETMCNTENR2
	{ (KONA_A9PTM0_VA+A9PTM_ETMCNTRLDEVR1_OFFSET), 0}, //0x3FE18160 - ETMCNTRLDEVR1
	{ (KONA_A9PTM0_VA+A9PTM_ETMCNTRLDEVR2_OFFSET), 0}, //0x3FE18164 - ETMCNTRLDEVR2
	{ (KONA_A9PTM0_VA+A9PTM_ETMCNTVR1_OFFSET), 0}, //0x3FE18170 - ETMCNTVR1
	{ (KONA_A9PTM0_VA+A9PTM_ETMCNTVR2_OFFSET), 0}, //0x3FE18174 - ETMCNTVR2
	{ (KONA_A9PTM0_VA+A9PTM_ETMSQ12EVR_OFFSET), 0}, //0x3FE18180 - ETMSQ12EVR
	{ (KONA_A9PTM0_VA+A9PTM_ETMSQ21EVR_OFFSET), 0}, //0x3FE18184 - ETMSQ21EVR
	{ (KONA_A9PTM0_VA+A9PTM_ETMSQ23EVR_OFFSET), 0}, //0x3FE18188 - ETMSQ23EVR
	{ (KONA_A9PTM0_VA+A9PTM_ETMSQ31EVR_OFFSET), 0}, //0x3FE1818C - ETMSQ31EVR
	{ (KONA_A9PTM0_VA+A9PTM_ETMSQ32EVR_OFFSET), 0}, //0x3FE18190 - ETMSQ32EVR
	{ (KONA_A9PTM0_VA+A9PTM_ETMSQ13EVR_OFFSET), 0}, //0x3FE18194 - ETMSQ13EVR
	{ (KONA_A9PTM0_VA+A9PTM_ETMSQR_OFFSET), 0}, //0x3FE1819C - ETMSQR
	{ (KONA_A9PTM0_VA+A9PTM_ETMEXTOUTEVR1_OFFSET), 0}, //0x3FE181A0 - ETMEXTOUTEVR1
	{ (KONA_A9PTM0_VA+A9PTM_ETMEXTOUTEVR2_OFFSET), 0}, //0x3FE181A4 - ETMEXTOUTEVR2
	{ (KONA_A9PTM0_VA+A9PTM_ETMCIDCVR1_OFFSET), 0}, //0x3FE181B0 - ETMCIDCVR1
	{ (KONA_A9PTM0_VA+A9PTM_ETMCIDCMR_OFFSET), 0}, //0x3FE181BC - ETMCIDCMR
	{ (KONA_A9PTM0_VA+A9PTM_ETMSYNCFR_OFFSET), 0}, //0x3FE181E0 - ETMSYNCFR
	{ (KONA_A9PTM0_VA+A9PTM_ETMEXTINSELR_OFFSET), 0}, //0x3FE181EC - ETMEXTINSELR
	{ (KONA_A9PTM0_VA+A9PTM_ETMTSEVR_OFFSET), 0}, //0x3FE181F8 - ETMTSEVR
	{ (KONA_A9PTM0_VA+A9PTM_ETMAUXCR_OFFSET), 0}, //0x3FE181FC - ETMAUXCR
	{ (KONA_A9PTM0_VA+A9PTM_ETMTRACEIDR_OFFSET), 0}, //0x3FE18200 - ETMTRACEIDR
	{ (KONA_A9PTM0_VA+A9PTM_ITCTRL_OFFSET), 0}, //0x3FE18F00 - ITCTRL

	{ (KONA_A9CTI0_VA+CTI_CTICONTROL_OFFSET), 0}, //0x3FE1C000 - CTICONTROL
	{ (KONA_A9CTI0_VA+CTI_CTIAPPSET_OFFSET), 0}, //0x3FE1C014 - CTIAPPSET
	{ (KONA_A9CTI0_VA+CTI_CTIINEN0_OFFSET), 0}, //0x3FE1C020 - CTIINEN0
	{ (KONA_A9CTI0_VA+CTI_CTIINEN1_OFFSET), 0}, //0x3FE1C024 - CTIINEN1
	{ (KONA_A9CTI0_VA+CTI_CTIINEN2_OFFSET), 0}, //0x3FE1C028 - CTIINEN2
	{ (KONA_A9CTI0_VA+CTI_CTIINEN3_OFFSET), 0}, //0x3FE1C02C - CTIINEN3
	{ (KONA_A9CTI0_VA+CTI_CTIINEN4_OFFSET), 0}, //0x3FE1C030 - CTIINEN4
	{ (KONA_A9CTI0_VA+CTI_CTIINEN5_OFFSET), 0}, //0x3FE1C034 - CTIINEN5
	{ (KONA_A9CTI0_VA+CTI_CTIINEN6_OFFSET), 0}, //0x3FE1C038 - CTIINEN6
	{ (KONA_A9CTI0_VA+CTI_CTIINEN7_OFFSET), 0}, //0x3FE1C03C - CTIINEN7
	{ (KONA_A9CTI0_VA+CTI_CTIOUTEN0_OFFSET), 0}, //0x3FE1C0A0 - CTIOUTEN0
	{ (KONA_A9CTI0_VA+CTI_CTIOUTEN1_OFFSET), 0}, //0x3FE1C0A4 - CTIOUTEN1
	{ (KONA_A9CTI0_VA+CTI_CTIOUTEN2_OFFSET), 0}, //0x3FE1C0A8 - CTIOUTEN2
	{ (KONA_A9CTI0_VA+CTI_CTIOUTEN3_OFFSET), 0}, //0x3FE1C0AC - CTIOUTEN3
	{ (KONA_A9CTI0_VA+CTI_CTIOUTEN4_OFFSET), 0}, //0x3FE1C0B0 - CTIOUTEN4
	{ (KONA_A9CTI0_VA+CTI_CTIOUTEN5_OFFSET), 0}, //0x3FE1C0B4 - CTIOUTEN5
	{ (KONA_A9CTI0_VA+CTI_CTIOUTEN6_OFFSET), 0}, //0x3FE1C0B8 - CTIOUTEN6
	{ (KONA_A9CTI0_VA+CTI_CTIOUTEN7_OFFSET), 0}, //0x3FE1C0BC - CTIOUTEN7
	{ (KONA_A9CTI0_VA+CTI_CTICHGATE_OFFSET), 0}, //0x3FE1C140 - CTICHGATE
	{ (KONA_A9CTI0_VA+CTI_ASICCTL_OFFSET), 0}, //0x3FE1C144 - ASICCTL
	{ (KONA_A9CTI0_VA+CTI_ICTRL_OFFSET), 0}, //0x3FE1CF00 - ICTRL

	{ (KONA_GICCPU_VA+GICCPU_CONTROL_OFFSET), 0}, //0x3FF00100 - CONTROL
	{ (KONA_GICCPU_VA+GICCPU_PRIORITY_MASK_OFFSET), 0}, //0x3FF00104 - PRIORITY_MASK
	{ (KONA_GICCPU_VA+GICCPU_BIN_PT_OFFSET), 0}, //0x3FF00108 - BIN_PT
	{ (KONA_GICCPU_VA+GICCPU_ALIAS_BIN_PT_NS_OFFSET), 0}, //0x3FF0011C - ALIAS_BIN_PT_NS

	{ (KONA_PROFTMR_VA+GLBTMR_GLOB_LOW_OFFSET), 0}, //0x3FF00200 - GLOB_LOW
	{ (KONA_PROFTMR_VA+GLBTMR_GLOB_HI_OFFSET), 0}, //0x3FF00204 - GLOB_HI
	{ (KONA_PROFTMR_VA+GLBTMR_GLOB_CTRL_OFFSET), 0}, //0x3FF00208 - GLOB_CTRL
	{ (KONA_PROFTMR_VA+GLBTMR_GLOB_STATUS_OFFSET), 0}, //0x3FF0020C - GLOB_STATUS
	{ (KONA_PROFTMR_VA+GLBTMR_GLOB_COMP_LOW_OFFSET), 0}, //0x3FF00210 - GLOB_COMP_LOW
	{ (KONA_PROFTMR_VA+GLBTMR_GLOB_COMP_HI_OFFSET), 0}, //0x3FF00214 - GLOB_COMP_HI
	{ (KONA_PROFTMR_VA+GLBTMR_GLOB_INCR_OFFSET), 0}, //0x3FF00218 - GLOB_INCR

	{ (KONA_PTIM_VA+PTMR_WD_TIMER_LOAD_OFFSET), 0}, //0x3FF00600 - TIMER_LOAD
	{ (KONA_PTIM_VA+PTMR_WD_TIMER_COUNTER_OFFSET), 0}, //0x3FF00604 - TIMER_COUNTER
	{ (KONA_PTIM_VA+PTMR_WD_TIMER_CTRL_OFFSET), 0}, //0x3FF00608 - TIMER_CTRL
	{ (KONA_PTIM_VA+PTMR_WD_TIMER_STATUS_OFFSET), 0}, //0x3FF0060C - TIMER_STATUS
	{ (KONA_PTIM_VA+PTMR_WD_WATCHDOG_LOAD_OFFSET), 0}, //0x3FF00620 - WATCHDOG_LOAD
	{ (KONA_PTIM_VA+PTMR_WD_WATCHDOG_COUNTER_OFFSET), 0}, //0x3FF00624 - WATCHDOG_COUNTER
	{ (KONA_PTIM_VA+PTMR_WD_WATCHDOG_CTRL_OFFSET), 0}, //0x3FF00628 - WATCHDOG_CTRL
	{ (KONA_PTIM_VA+PTMR_WD_WATCHDOG_STATUS_OFFSET), 0}, //0x3FF0062C - WATCHDOG_STATUS
	{ (KONA_PTIM_VA+PTMR_WD_WATCHDOG_RESET_STATUS_OFFSET), 0}, //0x3FF00630 - WATCHDOG_RESET_STATUS

	{ (KONA_GICDIST_VA+GICDIST_ENABLE_S_OFFSET), 0}, //0x3FF01000 - ENABLE_S
	{ (KONA_GICDIST_VA+GICDIST_INT_SECURITY0_OFFSET), 0}, //0x3FF01080 - INT_SECURITY0
	{ (KONA_GICDIST_VA+GICDIST_INT_SECURITY1_OFFSET), 0}, //0x3FF01084 - INT_SECURITY1
	{ (KONA_GICDIST_VA+GICDIST_INT_SECURITY2_OFFSET), 0}, //0x3FF01088 - INT_SECURITY2
	{ (KONA_GICDIST_VA+GICDIST_INT_SECURITY3_OFFSET), 0}, //0x3FF0108C - INT_SECURITY3
	{ (KONA_GICDIST_VA+GICDIST_INT_SECURITY4_OFFSET), 0}, //0x3FF01090 - INT_SECURITY4
	{ (KONA_GICDIST_VA+GICDIST_INT_SECURITY5_OFFSET), 0}, //0x3FF01094 - INT_SECURITY5
	{ (KONA_GICDIST_VA+GICDIST_INT_SECURITY6_OFFSET), 0}, //0x3FF01098 - INT_SECURITY6
	{ (KONA_GICDIST_VA+GICDIST_INT_SECURITY7_OFFSET), 0}, //0x3FF0109C - INT_SECURITY7
	{ (KONA_GICDIST_VA+GICDIST_ENABLE_SET0_OFFSET), 0}, //0x3FF01100 - ENABLE_SET0
	{ (KONA_GICDIST_VA+GICDIST_ENABLE_SET1_OFFSET), 0}, //0x3FF01104 - ENABLE_SET1
	{ (KONA_GICDIST_VA+GICDIST_ENABLE_SET2_OFFSET), 0}, //0x3FF01108 - ENABLE_SET2
	{ (KONA_GICDIST_VA+GICDIST_ENABLE_SET3_OFFSET), 0}, //0x3FF0110C - ENABLE_SET3
	{ (KONA_GICDIST_VA+GICDIST_ENABLE_SET4_OFFSET), 0}, //0x3FF01110 - ENABLE_SET4
	{ (KONA_GICDIST_VA+GICDIST_ENABLE_SET5_OFFSET), 0}, //0x3FF01114 - ENABLE_SET5
	{ (KONA_GICDIST_VA+GICDIST_ENABLE_SET6_OFFSET), 0}, //0x3FF01118 - ENABLE_SET6
	{ (KONA_GICDIST_VA+GICDIST_ENABLE_SET7_OFFSET), 0}, //0x3FF0111C - ENABLE_SET7
	{ (KONA_GICDIST_VA+GICDIST_PENDING_SET0_OFFSET), 0}, //0x3FF01200 - PENDING_SET0
	{ (KONA_GICDIST_VA+GICDIST_PENDING_SET1_OFFSET), 0}, //0x3FF01204 - PENDING_SET1
	{ (KONA_GICDIST_VA+GICDIST_PENDING_SET2_OFFSET), 0}, //0x3FF01208 - PENDING_SET2
	{ (KONA_GICDIST_VA+GICDIST_PENDING_SET3_OFFSET), 0}, //0x3FF0120C - PENDING_SET3
	{ (KONA_GICDIST_VA+GICDIST_PENDING_SET4_OFFSET), 0}, //0x3FF01210 - PENDING_SET4
	{ (KONA_GICDIST_VA+GICDIST_PENDING_SET5_OFFSET), 0}, //0x3FF01214 - PENDING_SET5
	{ (KONA_GICDIST_VA+GICDIST_PENDING_SET6_OFFSET), 0}, //0x3FF01218 - PENDING_SET6
	{ (KONA_GICDIST_VA+GICDIST_PENDING_SET7_OFFSET), 0}, //0x3FF0121C - PENDING_SET7
	{ (KONA_GICDIST_VA+GICDIST_PENDING_CLR0_OFFSET), 0}, //0x3FF01280 - PENDING_CLR0
	{ (KONA_GICDIST_VA+GICDIST_PENDING_CLR1_OFFSET), 0}, //0x3FF01284 - PENDING_CLR1
	{ (KONA_GICDIST_VA+GICDIST_PENDING_CLR2_OFFSET), 0}, //0x3FF01288 - PENDING_CLR2
	{ (KONA_GICDIST_VA+GICDIST_PENDING_CLR3_OFFSET), 0}, //0x3FF0128C - PENDING_CLR3
	{ (KONA_GICDIST_VA+GICDIST_PENDING_CLR4_OFFSET), 0}, //0x3FF01290 - PENDING_CLR4
	{ (KONA_GICDIST_VA+GICDIST_PENDING_CLR5_OFFSET), 0}, //0x3FF01294 - PENDING_CLR5
	{ (KONA_GICDIST_VA+GICDIST_PENDING_CLR6_OFFSET), 0}, //0x3FF01298 - PENDING_CLR6
	{ (KONA_GICDIST_VA+GICDIST_PENDING_CLR7_OFFSET), 0}, //0x3FF0129C - PENDING_CLR7
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL0_OFFSET), 0}, //0x3FF01400 - PRIORITY_LEVEL0
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL4_OFFSET), 0}, //0x3FF01404 - PRIORITY_LEVEL4
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL8_OFFSET), 0}, //0x3FF01408 - PRIORITY_LEVEL8
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL12_OFFSET), 0}, //0x3FF0140C - PRIORITY_LEVEL12
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL16_OFFSET), 0}, //0x3FF01410 - PRIORITY_LEVEL16
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL20_OFFSET), 0}, //0x3FF01414 - PRIORITY_LEVEL20
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL24_OFFSET), 0}, //0x3FF01418 - PRIORITY_LEVEL24
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL28_OFFSET), 0}, //0x3FF0141C - PRIORITY_LEVEL28
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL32_OFFSET), 0}, //0x3FF01420 - PRIORITY_LEVEL32
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL36_OFFSET), 0}, //0x3FF01424 - PRIORITY_LEVEL36
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL40_OFFSET), 0}, //0x3FF01428 - PRIORITY_LEVEL40
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL44_OFFSET), 0}, //0x3FF0142C - PRIORITY_LEVEL44
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL48_OFFSET), 0}, //0x3FF01430 - PRIORITY_LEVEL48
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL52_OFFSET), 0}, //0x3FF01434 - PRIORITY_LEVEL52
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL56_OFFSET), 0}, //0x3FF01438 - PRIORITY_LEVEL56
	{ (KONA_GICDIST_VA+GICDIST_PRIORITY_LEVEL60_OFFSET), 0}, //0x3FF0143C - PRIORITY_LEVEL60
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET0_OFFSET), 0}, //0x3FF01800 - SPI_TARGET0
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET1_OFFSET), 0}, //0x3FF01804 - SPI_TARGET1
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET2_OFFSET), 0}, //0x3FF01808 - SPI_TARGET2
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET3_OFFSET), 0}, //0x3FF0180C - SPI_TARGET3
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET4_OFFSET), 0}, //0x3FF01810 - SPI_TARGET4
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET5_OFFSET), 0}, //0x3FF01814 - SPI_TARGET5
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET6_OFFSET), 0}, //0x3FF01818 - SPI_TARGET6
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET7_OFFSET), 0}, //0x3FF0181C - SPI_TARGET7
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET8_OFFSET), 0}, //0x3FF01820 - SPI_TARGET8
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET9_OFFSET), 0}, //0x3FF01824 - SPI_TARGET9
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET10_OFFSET), 0}, //0x3FF01828 - SPI_TARGET10
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET11_OFFSET), 0}, //0x3FF0182C - SPI_TARGET11
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET12_OFFSET), 0}, //0x3FF01830 - SPI_TARGET12
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET13_OFFSET), 0}, //0x3FF01834 - SPI_TARGET13
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET14_OFFSET), 0}, //0x3FF01838 - SPI_TARGET14
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET15_OFFSET), 0}, //0x3FF0183C - SPI_TARGET15
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET16_OFFSET), 0}, //0x3FF01840 - SPI_TARGET16
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET17_OFFSET), 0}, //0x3FF01844 - SPI_TARGET17
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET18_OFFSET), 0}, //0x3FF01848 - SPI_TARGET18
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET19_OFFSET), 0}, //0x3FF0184C - SPI_TARGET19
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET20_OFFSET), 0}, //0x3FF01850 - SPI_TARGET20
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET21_OFFSET), 0}, //0x3FF01854 - SPI_TARGET21
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET22_OFFSET), 0}, //0x3FF01858 - SPI_TARGET22
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET23_OFFSET), 0}, //0x3FF0185C - SPI_TARGET23
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET24_OFFSET), 0}, //0x3FF01860 - SPI_TARGET24
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET25_OFFSET), 0}, //0x3FF01864 - SPI_TARGET25
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET26_OFFSET), 0}, //0x3FF01868 - SPI_TARGET26
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET27_OFFSET), 0}, //0x3FF0186C - SPI_TARGET27
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET28_OFFSET), 0}, //0x3FF01870 - SPI_TARGET28
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET29_OFFSET), 0}, //0x3FF01874 - SPI_TARGET29
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET30_OFFSET), 0}, //0x3FF01878 - SPI_TARGET30
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET31_OFFSET), 0}, //0x3FF0187C - SPI_TARGET31
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET32_OFFSET), 0}, //0x3FF01880 - SPI_TARGET32
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET33_OFFSET), 0}, //0x3FF01884 - SPI_TARGET33
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET34_OFFSET), 0}, //0x3FF01888 - SPI_TARGET34
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET35_OFFSET), 0}, //0x3FF0188C - SPI_TARGET35
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET36_OFFSET), 0}, //0x3FF01890 - SPI_TARGET36
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET37_OFFSET), 0}, //0x3FF01894 - SPI_TARGET37
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET38_OFFSET), 0}, //0x3FF01898 - SPI_TARGET38
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET39_OFFSET), 0}, //0x3FF0189C - SPI_TARGET39
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET40_OFFSET), 0}, //0x3FF018A0 - SPI_TARGET40
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET41_OFFSET), 0}, //0x3FF018A4 - SPI_TARGET41
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET42_OFFSET), 0}, //0x3FF018A8 - SPI_TARGET42
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET43_OFFSET), 0}, //0x3FF018AC - SPI_TARGET43
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET44_OFFSET), 0}, //0x3FF018B0 - SPI_TARGET44
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET45_OFFSET), 0}, //0x3FF018B4 - SPI_TARGET45
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET46_OFFSET), 0}, //0x3FF018B8 - SPI_TARGET46
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET47_OFFSET), 0}, //0x3FF018BC - SPI_TARGET47
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET48_OFFSET), 0}, //0x3FF018C0 - SPI_TARGET48
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET49_OFFSET), 0}, //0x3FF018C4 - SPI_TARGET49
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET50_OFFSET), 0}, //0x3FF018C8 - SPI_TARGET50
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET51_OFFSET), 0}, //0x3FF018CC - SPI_TARGET51
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET52_OFFSET), 0}, //0x3FF018D0 - SPI_TARGET52
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET53_OFFSET), 0}, //0x3FF018D4 - SPI_TARGET53
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET54_OFFSET), 0}, //0x3FF018D8 - SPI_TARGET54
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET55_OFFSET), 0}, //0x3FF018DC - SPI_TARGET55
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET56_OFFSET), 0}, //0x3FF018E0 - SPI_TARGET56
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET57_OFFSET), 0}, //0x3FF018E4 - SPI_TARGET57
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET58_OFFSET), 0}, //0x3FF018E8 - SPI_TARGET58
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET59_OFFSET), 0}, //0x3FF018EC - SPI_TARGET59
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET60_OFFSET), 0}, //0x3FF018F0 - SPI_TARGET60
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET61_OFFSET), 0}, //0x3FF018F4 - SPI_TARGET61
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET62_OFFSET), 0}, //0x3FF018F8 - SPI_TARGET62
	{ (KONA_GICDIST_VA+GICDIST_SPI_TARGET63_OFFSET), 0}, //0x3FF018FC - SPI_TARGET63
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG0_OFFSET), 0}, //0x3FF01C00 - INT_CONFIG0
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG1_OFFSET), 0}, //0x3FF01C04 - INT_CONFIG1
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG2_OFFSET), 0}, //0x3FF01C08 - INT_CONFIG2
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG3_OFFSET), 0}, //0x3FF01C0C - INT_CONFIG3
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG4_OFFSET), 0}, //0x3FF01C10 - INT_CONFIG4
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG5_OFFSET), 0}, //0x3FF01C14 - INT_CONFIG5
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG6_OFFSET), 0}, //0x3FF01C18 - INT_CONFIG6
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG7_OFFSET), 0}, //0x3FF01C1C - INT_CONFIG7
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG8_OFFSET), 0}, //0x3FF01C20 - INT_CONFIG8
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG9_OFFSET), 0}, //0x3FF01C24 - INT_CONFIG9
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG10_OFFSET), 0}, //0x3FF01C28 - INT_CONFIG10
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG11_OFFSET), 0}, //0x3FF01C2C - INT_CONFIG11
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG12_OFFSET), 0}, //0x3FF01C30 - INT_CONFIG12
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG13_OFFSET), 0}, //0x3FF01C34 - INT_CONFIG13
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG14_OFFSET), 0}, //0x3FF01C38 - INT_CONFIG14
	{ (KONA_GICDIST_VA+GICDIST_INT_CONFIG15_OFFSET), 0} //0x3FF01C3C - INT_CONFIG15
};

#ifdef CONFIG_ROM_SEC_DISPATCHER

void *hw_mmu_physical_address_get(void *x)
{
	void *hw_mmu_pa_get(void *x);
	return hw_mmu_pa_get(x);
}

u32 hw_sec_pub_dispatcher(u32 service_id, u32 flags, ...)
{
	u32 ret_val;
	va_list list;

	va_start(list, flags);
	ret_val = hw_sec_rom_pub_bridge(service_id, flags, list);
	va_end(list);

	return ret_val;
}

#endif


static void dormant_save_addnl_reg(void)
{
	int i;
	for ( i=0; i < ARRAY_SIZE(addnl_save_reg_list); i++ )
	{
		addnl_save_reg_list[i][1] = readl(addnl_save_reg_list[i][0]);
	}
	/* Finished saving all additional registers.  Disable L2 before entering dormant */
	/* HWRHEA-1199 - Disable L2 before entering dormant so that when
	 * we exit dormant, we have L2 disabled not causing an issue dur to
	 * running at 156 MHZ
	 */
#ifdef CONFIG_ROM_SEC_DISPATCHER
	hw_sec_pub_dispatcher(SEC_API_DISABLE_L2_CACHE,
		SEC_FLAGS);
#endif
}


static void dormant_restore_addnl_reg(void)
{
	int i;
	u32 val1,val2;


	/* Allow write access to the CCU registers */
	writel(0xA5A501,
		(KONA_PROC_CLK_VA + KPROC_CLK_MGR_REG_WR_ACCESS_OFFSET));

	for ( i=0; i<ARRAY_SIZE(addnl_save_reg_list); i++ )
	{
		/* Restore the saved data */
		writel( addnl_save_reg_list[i][1], addnl_save_reg_list[i][0]);

		if (addnl_save_reg_list[i][0] ==  (KONA_PROC_CLK_VA + KPROC_CLK_MGR_REG_TGTMASK_DBG1_OFFSET))
		{

			/* Finished restoring all the A9 CCU registers
			 * lock the state machine so writing the GO bit would not cause
			 * issues with the state machine
			 */
			writel(readl(KONA_PROC_CLK_VA + KPROC_CLK_MGR_REG_LVM_EN_OFFSET) |
					KPROC_CLK_MGR_REG_LVM_EN_POLICY_CONFIG_EN_MASK,
					KONA_PROC_CLK_VA + KPROC_CLK_MGR_REG_LVM_EN_OFFSET);

			/* Wait for HW confirmation of policy lock */
			while ( readl(KONA_PROC_CLK_VA + KPROC_CLK_MGR_REG_LVM_EN_OFFSET) &
					KPROC_CLK_MGR_REG_LVM_EN_POLICY_CONFIG_EN_MASK );

			/* Write the go bit to trigger the frequency change
			 */
			writel(KPROC_CLK_MGR_REG_POLICY_CTL_GO_AC_MASK | KPROC_CLK_MGR_REG_POLICY_CTL_GO_MASK,
			KONA_PROC_CLK_VA + KPROC_CLK_MGR_REG_POLICY_CTL_OFFSET);
		}
	}

	/* Wait until the new frequency takes effect */
	do
	{
			val1 =  readl(KONA_PROC_CLK_VA + KPROC_CLK_MGR_REG_POLICY_CTL_OFFSET) &
				KPROC_CLK_MGR_REG_POLICY_CTL_GO_MASK;
			val2 =  readl(KONA_PROC_CLK_VA + KPROC_CLK_MGR_REG_POLICY_CTL_OFFSET) &
				KPROC_CLK_MGR_REG_POLICY_CTL_GO_MASK;
	} while ( val1 | val2 ) ;

	/* Finished restoring all the registers, enable the L2 CACHE now*/
	/* HWRHEA-1199 - New frequency should now be in effect enable
	 * L2 cache now
	 */
#ifdef CONFIG_ROM_SEC_DISPATCHER
	hw_sec_pub_dispatcher(SEC_API_ENABLE_L2_CACHE,
		SEC_FLAGS);
#endif
}

int loop = 1;
void dormant_enter(void)
{

	if(enable_dormant)
	{
		pr_info("%s:Enter\n", __func__);
		dormant_save_addnl_reg();

		dormant_start();

		dormant_restore_addnl_reg();

	} else{
		pr_info("%s:Dummy\n", __func__);
	}
	pr_info("%s: Exit\n", __func__);

}


int __init island_dormant_init(void)
{
#ifdef CONFIG_ROM_SEC_DISPATCHER
	dma_addr_t drmt_buf_phy;
	dormant_base_va = (u32)dma_alloc_coherent(NULL, SZ_4K,
					      &drmt_buf_phy,
					      GFP_ATOMIC);

	dormant_base_pa = (u32)drmt_buf_phy;
#else
	dormant_base_va = dormant_base_pa =
	     (u32)kmalloc(SZ_4K, GFP_ATOMIC);
#endif
	return 0;
}

module_init(island_dormant_init);
